{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst API_KEY = '44810429-780319b334a9c60538a2ecf11';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n    const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const response = await fetch(url);\n    if (!response.ok) {\n    throw new Error('Failed to fetch images');\n    }\n    return await response.json();\n}","\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nlet lightbox;\n\nexport function renderGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = images.map(image => createImageCard(image)).join('');\n    if (lightbox) {\n    lightbox.refresh();\n    } else {\n    lightbox = new SimpleLightbox('.gallery a');\n    }\n}\n\nfunction createImageCard(image) {\n    return `\n    <div class=\"photo-card\">\n        <a href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n        <p class=\"info-item\">\n            <b>Likes:</b> ${image.likes}\n        </p>\n        <p class=\"info-item\">\n            <b>Views:</b> ${image.views}\n        </p>\n        <p class=\"info-item\">\n            <b>Comments:</b> ${image.comments}\n        </p>\n        <p class=\"info-item\">\n            <b>Downloads:</b> ${image.downloads}\n        </p>\n        </div>\n    </div>\n    `;\n}\n\nexport function showError(message) {\n    iziToast.error({\n    title: 'Error',\n    message: message,\n    });\n}\n\nexport function showLoading() {\n    document.querySelector('.loading').style.display = 'block';\n}\n\nexport function hideLoading() {\n    document.querySelector('.loading').style.display = 'none';\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n}","\nimport { fetchImages } from './js/pixabay-api.js';\n\nimport { renderGallery, showError, showLoading, hideLoading } from './js/render-functions.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const form = document.getElementById('search-form');\n    const input = form.querySelector('input[name=\"query\"]');\n\n    form.addEventListener('submit', async (event) => {\n    event.preventDefault();\n\n    const query = input.value.trim();\n    if (query === '') {\n        showError('Please enter a search query');\n        input.value = '';\n    return;\n    }\n\n    try {\n    showLoading();\n    const data = await fetchImages(query);\n    hideLoading();\n    if (data.hits.length === 0) {\n        showError('Sorry, there are no images matching your search query. Please try again!');\n        input.value = '';\n    } else {\n        renderGallery(data.hits);\n    }\n    } catch (error) {\n    hideLoading();\n    showError('Failed to fetch images. Please try again later.');\n    }\n    });\n});"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","lightbox","renderGallery","images","gallery","image","createImageCard","SimpleLightbox","showError","message","iziToast","showLoading","hideLoading","form","input","event","data"],"mappings":"6vBACA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACrC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DAC/DE,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACd,MAAM,IAAI,MAAM,wBAAwB,EAExC,OAAO,MAAMA,EAAS,MAC1B,CCDA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EAAO,IAAIE,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EACnEJ,EACJA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,YAAY,CAE9C,CAEA,SAASD,EAAgBD,EAAO,CAC5B,MAAO;AAAA;AAAA,mBAEQA,EAAM,aAAa;AAAA,oBAClBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,4BAI9BA,EAAM,KAAK;AAAA;AAAA;AAAA,4BAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,+BAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,gCAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAK/C,CAEO,SAASG,EAAUC,EAAS,CAC/BC,EAAS,MAAM,CACf,MAAO,QACP,QAASD,CACb,CAAK,CACL,CAEO,SAASE,GAAc,CAC1B,SAAS,cAAc,UAAU,EAAE,MAAM,QAAU,OACvD,CAEO,SAASC,GAAc,CAC1B,SAAS,cAAc,UAAU,EAAE,MAAM,QAAU,MACvD,CCtDA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQD,EAAK,cAAc,qBAAqB,EAEtDA,EAAK,iBAAiB,SAAU,MAAOE,GAAU,CACjDA,EAAM,eAAc,EAEpB,MAAMjB,EAAQgB,EAAM,MAAM,KAAI,EAC9B,GAAIhB,IAAU,GAAI,CACdU,EAAU,6BAA6B,EACvCM,EAAM,MAAQ,GAClB,MACC,CAED,GAAI,CACJH,IACA,MAAMK,EAAO,MAAMnB,EAAYC,CAAK,EACpCc,IACII,EAAK,KAAK,SAAW,GACrBR,EAAU,0EAA0E,EACpFM,EAAM,MAAQ,IAEdZ,EAAcc,EAAK,IAAI,CAE1B,MAAe,CAChBJ,IACAJ,EAAU,iDAAiD,CAC1D,CACL,CAAK,CACL,CAAC"}